一、大数据计算服务考试内容

1.1 熟悉大数据计算服务基本概念，包括项目空间、表、分区、资源、任务等

	大数据计算服务是一种快速、完全托管的TB/PB级数据仓库解决方案。以及针对大数据的分析建模服务。
	
	数据通道(tunnel)：提供高并发的离线数据上传下载服务
	
	计算及分析任务：MaxCompute SQL不支持事务、索引及Update/Delete等操作
	
	MapReduce：最早是由Google提出的分布式数据处理模型、Java编程接口
	
	Graph：一套面向迭代的图计算处理框架
	
	项目空间：基本组织单元，类似于传统数据库的Database或Schema的概念，是进行多用户隔离和访问控制的主要边界 use my_project --进入项目空间
	
	表：数据存储单元，MaxCompute仅支持读取外部表数据，OSS，不支持写入
	
	分区：创建表时指定分区空间，分区列
	
	资源：使用函数或MapReduce功能需要依赖资源来完成，类型：file、table、jar、archive压缩
	
	数据类型：
		bigint	8字节有符号整型
		string	字符串，支持UTF-8编码 最长允许8MB
		boolean	布尔型
		double	8字节双精度浮点数
		datetime	日期类型
		decimal	有效数字，整数36位，小数18位
	
	任务：基本的计算单元
	
	服务连接：service.odps.aliyun.com 地址
			dt.odps.aliyun.com 地址

1.2 了解大数据计算服务的组成架构和各组成部分功能

	组成架构：4层
		客户端、接入层、逻辑层、计算层
	
	客户端：以RESTful API方式对外提供服务，用户可以通过SDK、CLT、Java集成开发环境、管理控制台、R语言集成开发环境
	
	接入层：LVS负载均衡  HTTP Server 云账号服务器
	
	逻辑层：接入层 请求处理器 调度器 作业执行管理器
		Worker Scheduler Excutor，三权分立，三者分别实现不同的逻辑
	
	计算层：架构在飞天系统之上，把大任务分解成很多小任务分别执行，最后把处理结果聚合，返回最后的结果
		分布式文件系统 盘古
		任务调度/资源管理	伏羲
		远程过程调用	夸父
		安全管理		钟馗
		协调服务		女娲

1.3 掌握大数据计算服务的特点、优势以及适用场景

	特点：提供安全、可靠、海量数据的快速采集、分析、建模、运用的一个数据仓库工具，学习门槛低，只要关心业务，无需关心分布式底层设计，同时只是针对结构化的数据进行处理

	优势：无需关心分布式计算、存储、基础架构方面的设计和落实，只要关心核心的业务设计，安全，可靠，易用，效率高，成本低
	
	适用场景：贷款的大数据应用
	

1.4 掌握大数据计算服务的连接和使用方式，包括使用客户端、管理控制台、Java SDK 等

	通过odpscmd连接：安装和配置JDK，把odpscmd_public里面的config.ini配置一下
	
	通过管理控制台连接：
		创建和管理项目
		创建和管理表
		查看和执行作业
		用户管理
		角色管理
		安全管理
		安全管理里面主要是几种授权模式的设置，例如：ACL授权、policy授权等
	
	通过Java SDK连接：
	
1.5 掌握大数据计算服务的数据上传和下载，可以熟练的使用Tunnel 命令行工具，了解 Tunnel SDK

	tunnel SDK：表数据的上传和下载
	TableTunnel:
			createDownloadSession创建下载会话的对象
			createUploadSession创建上传会话的对象
			getDownloadSession获取下载会话对象句柄
			getUploadSession获取上传会话对象句柄
	
	UploadSession：
			commit上传会话完成、提交
			getBlockList得到成功上传的Block的列表
			getSchema得到上传表的schema
			getID得到上传会话的Id
			newRecord创建Record类型的记录
			openRecordWriter打开记录写入器
			
	DownloadSession：
			getID得到下载会话的Id
			getRecordCount得到要下载的目标表的记录条数
			getSchema得到上传表的schema
			getStatus得到目前的下载状态
			openRecordReader打开记录读取器
			
	tunnel命令行工具的使用：
	tunnel upload 
		-dpr 丢弃错误的记录
		-dfp 定义时间数据格式
		-fd 定义列分隔符，默认是逗号
		-mbr 可以容忍的最大错误数据条数
		-rd 定义行的分隔符，默认是回车符
		-s 定义执行前是否进行扫描
		-te 多线程设置，默认是1个线程
		-tz 时区设置，默认是东八区
	Example：tunnel upload log.txt test_project.test_table/p1="b1",p2="b2";
	tunnel download
		-dfp 下载的时间格式
		-fd 定义下载的列的分隔符
		-ni 空值处理，默认“”
		-rd 定义下载行的分隔符，默认回车符
		-te 定义下载时候的线程数
	Example：tunnel download test_project.test_table/p1="b1",p2="b2" log.txt
